import{_ as o,c as l,a as p,b as n,d as a,e,o as i,r as c}from"./app-vAERMEX6.js";const r={},u={href:"https://twitter.com/tc39",target:"_blank",rel:"noopener noreferrer"},d={href:"https://github.com/tc39/tc39-notes/",target:"_blank",rel:"noopener noreferrer"},k={href:"https://github.com/tc39/test262",target:"_blank",rel:"noopener noreferrer"},m={href:"https://www.proposals.es/stages/stage4",target:"_blank",rel:"noopener noreferrer"},v={href:"https://www.proposals.es/stages/stage3",target:"_blank",rel:"noopener noreferrer"},b={id:"_2-2-1-json-modules",tabindex:"-1"},g={class:"header-anchor",href:"#_2-2-1-json-modules"},h={href:"https://github.com/tc39/proposal-json-modules",target:"_blank",rel:"noopener noreferrer"},f={id:"_2-2-2-temporal",tabindex:"-1"},w={class:"header-anchor",href:"#_2-2-2-temporal"},j={href:"https://github.com/tc39/proposal-temporal",target:"_blank",rel:"noopener noreferrer"},y={href:"http://github.com/tc39/proposal-json-modules",target:"_blank",rel:"noopener noreferrer"},x={href:"https://www.proposals.es/stages/stage2",target:"_blank",rel:"noopener noreferrer"},q={href:"https://github.com/tc39/proposal-regexp-match-indices",target:"_blank",rel:"noopener noreferrer"};function S(A,s){const t=c("ExternalLinkIcon");return i(),l("div",null,[s[23]||(s[23]=p('<h1 id="tc39-proposals" tabindex="-1"><a class="header-anchor" href="#tc39-proposals"><span>TC39 Proposals</span></a></h1><p><strong>Any application that can be written in JavaScript, will eventually be written in JavaScript. ------Jeff Atwood</strong></p><h1 id="_1-什么是tc39" tabindex="-1"><a class="header-anchor" href="#_1-什么是tc39"><span>1 什么是TC39?</span></a></h1><p>Javascript: the programming language that is implemented by various platforms (browsers, Node.js, Deno, etc.)</p><p>ECMAScript is designed by the <em>Technical Committee 39</em> (TC39) of the standards organization <em>Ecma International.</em></p><p>ECMAScrip名称中的‘ECMA’部分来源于Ecma组织，这是一个总部设在瑞士的标准化组织。</p><p>ECMA最初是“<strong>欧洲计算机制造商协会</strong>”的首字母缩写，其最初的名称后来演变为Ecma国际（Ecma）。</p><p>Ecma开发了许多与计算机产业有关的标准，制定标准的实际工作由Ecma技术委员会负责，该委员会简称‘TC’。当一个新的Ecma TC被创建的时会被分配一个序列号作为唯一标识，TC39是为了标准化Javascript而创建的TC。</p><p>Ecma会为其TC撰写的每份不同的标准各分配一个编号，并添加ECMA-前缀。ECMAScript标准被指定为<strong>ECMA-262。</strong></p>',9)),n("p",null,[n("a",u,[s[0]||(s[0]=a("TC39")),e(t)]),s[1]||(s[1]=a(" 成员来自于Adobe, Apple, Facebook, Google, Microsoft, Mozilla, Opera, Twitter等公司。"))]),s[24]||(s[24]=n("p",null,[n("img",{src:"https://ku.baidu-int.com/wiki/attach/image/api/imageDownloadAddress?attachId=d6fb4d413adf4c40bcdf8a5c2f746912&docGuid=NhMivPBHoA61mv",alt:"img"})],-1)),n("p",null,[s[3]||(s[3]=a("Every two months, TC39 has meetings that member-appointed delegates and invited experts attend. The minutes of those meetings are public in ")),n("a",d,[s[2]||(s[2]=a("a GitHub repository")),e(t)]),s[4]||(s[4]=a("."))]),s[25]||(s[25]=n("h1",{id:"_2-tc39提案流程",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_2-tc39提案流程"},[n("span",null,"2 TC39提案流程")])],-1)),s[26]||(s[26]=n("p",null,"New ECMAScript features must be proposed to TC39.",-1)),s[27]||(s[27]=n("p",null,[n("img",{src:"https://ku.baidu-int.com/wiki/attach/image/api/imageDownloadAddress?attachId=f8352b8002a54d79ba32b929b72b62ad&docGuid=NhMivPBHoA61mv",alt:"img"})],-1)),n("ol",null,[s[8]||(s[8]=n("li",null,"ECMAScript 各项特性独立设计，历经 5 个阶段，从 Stage 0（Strawman，初稿）开始，经 Stage 1（提案）、Stage 2（草案）、Stage 3（候选提案），最后到 Stage 4（Finished，过审提案）结束",-1)),s[9]||(s[9]=n("li",null,"Stage 1阶段需要明确解决的问题和大致的解决方案，Stage 2使用正式的语言详细地描述语法、语义，运行时行为变更，Stage 3阶段在各种javascript引擎中实现并根据实现反馈微调，Stage 4定案阶段准备在接下来的ECMAScript年度版本中发布",-1)),n("li",null,[s[6]||(s[6]=a("要求在后几个阶段进行原型实现和实际测试（由")),n("a",k,[s[5]||(s[5]=a("Test 262")),e(t)]),s[7]||(s[7]=a("负责），以便在设计和实现之间形成反馈循环"))]),s[10]||(s[10]=n("li",null,"ECMAScript 每年发布一版，囊括截止最后发版日期之前所有已经进入第 4 阶段的特性",-1)),s[11]||(s[11]=n("li",null,"如果你对某个提案有需求、意见，或者对于语言特性有新的需求，可以在提案的Stage0、1、2阶段参与进来。有很多方式可以参与:直接加入GitHub Issues讨论、更新spec text等等。对于一些新的想法，也可以通过下面的网址找找有没有在TC39中讨论过。",-1))]),s[28]||(s[28]=n("p",null,"GitHub上:https://github.com/tc39/proposals",-1)),s[29]||(s[29]=n("p",null,"会议记录:https://github.com/tc39/notes 讨论组:https://es.discourse.group",-1)),s[30]||(s[30]=n("h2",{id:"_2-1-stage-4",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_2-1-stage-4"},[n("span",null,"2.1 stage 4")])],-1)),s[31]||(s[31]=n("p",null,"在第 4 阶段，一个规范已经完成，并被确定会包含到 ECMAScript 规范草案中。除非在特殊情况下，否则该提案是完整的、稳定的，并可随时发布。通常各个实现默认开启第 4 阶段的特性，没有任何特殊的标志。不去实现和交付第 4 阶段的特性，就有可能使该实现与其他实现不同步。",-1)),n("p",null,[n("a",m,[s[12]||(s[12]=a("提案汇总")),e(t)])]),s[32]||(s[32]=n("h2",{id:"_2-2-stage-3",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_2-2-stage-3"},[n("span",null,"2.2 stage 3")])],-1)),s[33]||(s[33]=n("p",null,"在第 3 阶段，委员会正在全力考察一项功能，并已就具体细节达成一致。但实施过程仍然可能导致语义上的变化，甚至一些第 3 阶段的功能已经被完全放弃。追求稳定性的项目如果想完全交付这些功能，在交付第 3 阶段的功能之前，通常会使用一定程度的个例测试。",-1)),n("p",null,[n("a",v,[s[13]||(s[13]=a("提案汇总")),e(t)])]),n("h3",b,[n("a",g,[n("span",null,[s[15]||(s[15]=a("2.2.1 ")),n("a",h,[s[14]||(s[14]=a("JSON Modules")),e(t)])])])]),s[34]||(s[34]=p(`<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">import</span> json <span class="token keyword">from</span> <span class="token string">&quot;./foo.json&quot;</span> <span class="token keyword">assert</span> <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;json&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&quot;foo.json&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">assert</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;json&quot;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div>`,1)),n("h3",f,[n("a",w,[n("span",null,[s[17]||(s[17]=a("2.2.2 ")),n("a",j,[s[16]||(s[16]=a("Temporal")),e(t)])])])]),s[35]||(s[35]=p('<p><code>Date</code> has been a long-standing pain point in ECMAScript. This proposes <code>Temporal</code>, a global <code>Object</code> that acts as a top-level namespace (like <code>Math</code>), that brings a modern date/time API to the ECMAScript languag.</p><ul><li>不支持除用户本地时间以外的时区，不支持开发人员通过API来切换时区信息</li><li>计算API缺失，如比较两个时间的长短，时间之间的加减运算</li><li>不支持非公历，各国无法使用自己的历法，如中国的农历</li></ul><p><img src="https://ku.baidu-int.com/wiki/attach/image/api/imageDownloadAddress?attachId=7c9aa84cd8e74752a8cf25a74e2ba3f8&amp;docGuid=NhMivPBHoA61mv" alt="img"></p><p><img src="https://ku.baidu-int.com/wiki/attach/image/api/imageDownloadAddress?attachId=48b0853bc92743a6bd9ba1f8de55c02d&amp;docGuid=NhMivPBHoA61mv" alt="img"></p><h3 id="_2-2-3-import-assertions" tabindex="-1"><a class="header-anchor" href="#_2-2-3-import-assertions"><span>2.2.3 Import Assertions</span></a></h3>',5)),n("p",null,[s[19]||(s[19]=a("The Import Assertions proposal adds an inline syntax for module import statements to pass on more information alongside the module specifier. The initial application for such assertions will be to support additional types of modules in a common way across JavaScript environments, starting with ")),n("a",y,[s[18]||(s[18]=a("JSON modules")),e(t)]),s[20]||(s[20]=a("."))]),s[36]||(s[36]=n("h2",{id:"_2-3-stage-2-、stage1、stage0",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_2-3-stage-2-、stage1、stage0"},[n("span",null,"2.3 stage 2 、stage1、stage0")])],-1)),s[37]||(s[37]=n("p",null,"在第 0、1 和 2 阶段，语义细节尚无定论。委员会还没有就该提案的所有具体细节达成共识。在这个阶段的实现应该被认为是实验性和推测性的。这个阶段的实现对于程序员的实验是非常有价值的，它可以帮助完善语言的设计。实现往往通过特殊的标志来暴露这个阶段的特征，这些标志在默认情况下是不启用的。",-1)),n("p",null,[n("a",x,[s[21]||(s[21]=a("提案汇总")),e(t)])]),s[38]||(s[38]=p(`<h3 id="_2-3-1-pipe-operator-for-javascript" tabindex="-1"><a class="header-anchor" href="#_2-3-1-pipe-operator-for-javascript"><span>2.3.1 Pipe Operator (<code>|&gt;</code>) for JavaScript</span></a></h3><p>对一个值进行连续操作（如函数调用），目前有如下几种方式：</p><p><img src="https://ku.baidu-int.com/wiki/attach/image/api/imageDownloadAddress?attachId=49e4023114da4b87a383ab221fc9d396&amp;docGuid=NhMivPBHoA61mv" alt="img"></p><p>使用管道操作符重构后的代码：</p><p><img src="https://ku.baidu-int.com/wiki/attach/image/api/imageDownloadAddress?attachId=ae98e46ae21745be8e03cf8b214154cf&amp;docGuid=NhMivPBHoA61mv" alt="img"></p><ul><li>%代表上一次操作的返回值</li><li>|&gt; 右侧可以是任何合法的表达式</li></ul><h1 id="_3-es2022" tabindex="-1"><a class="header-anchor" href="#_3-es2022"><span>3 ES2022</span></a></h1><h2 id="_3-1-at" tabindex="-1"><a class="header-anchor" href="#_3-1-at"><span>3.1 .at()</span></a></h2><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">const</span> cart <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;🍎&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;🍌&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;🍍&#39;</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// first element</span></span>
<span class="line">cart<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;🍎&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// last element</span></span>
<span class="line">cart<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;🍍&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// out of bounds</span></span>
<span class="line">cart<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined </span></span>
<span class="line">cart<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined </span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-2-top-level-await" tabindex="-1"><a class="header-anchor" href="#_3-2-top-level-await"><span>3.2 Top level await</span></a></h2><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">const</span> i18n <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">./content-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>language<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.mjs</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 依赖倒退</span></span>
<span class="line"><span class="token keyword">let</span> jQuery<span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">  jQuery <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;https://cdn-a.com/jQuery&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">{</span></span>
<span class="line">  jQuery <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;https://cdn-b.com/jQuery&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-3-error-cause" tabindex="-1"><a class="header-anchor" href="#_3-3-error-cause"><span>3.3 Error cause</span></a></h2><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">maybeWorks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;maybeWorks failed!&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">cause</span><span class="token operator">:</span> err <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-4-object-hasown" tabindex="-1"><a class="header-anchor" href="#_3-4-object-hasown"><span>3.4 Object.hasOwn</span></a></h2><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">let</span> books <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line">books<span class="token punctuation">.</span>prop <span class="token operator">=</span> <span class="token string">&#39;exists&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// \`hasOwn\` will only return true for direct properties:</span></span>
<span class="line">Object<span class="token punctuation">.</span><span class="token function">hasOwn</span><span class="token punctuation">(</span>books<span class="token punctuation">,</span> <span class="token string">&#39;prop&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// returns true</span></span>
<span class="line">Object<span class="token punctuation">.</span><span class="token function">hasOwn</span><span class="token punctuation">(</span>books<span class="token punctuation">,</span> <span class="token string">&#39;toString&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">// returns false</span></span>
<span class="line">Object<span class="token punctuation">.</span><span class="token function">hasOwn</span><span class="token punctuation">(</span>books<span class="token punctuation">,</span> <span class="token string">&#39;hasOwnProperty&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// returns false</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// The \`in\` operator will return true for direct or inherited properties:</span></span>
<span class="line"><span class="token string">&#39;prop&#39;</span> <span class="token keyword">in</span> books<span class="token punctuation">;</span>                          <span class="token comment">// returns true</span></span>
<span class="line"><span class="token string">&#39;toString&#39;</span> <span class="token keyword">in</span> books<span class="token punctuation">;</span>                      <span class="token comment">// returns true</span></span>
<span class="line"><span class="token string">&#39;hasOwnProperty&#39;</span> <span class="token keyword">in</span> books<span class="token punctuation">;</span>                <span class="token comment">// returns true</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>与hasOwnProperty区别：</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">const</span> obj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">obj<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;xl&quot;</span><span class="token punctuation">;</span></span>
<span class="line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> obj1 <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">obj1<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;xl&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// error: obj1.hasOwnProperty is not a function</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">const</span> obj2 <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">obj2<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;xl&quot;</span><span class="token punctuation">;</span></span>
<span class="line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">hasOwn</span><span class="token punctuation">(</span>obj2<span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-5-regexp-match-indices" tabindex="-1"><a class="header-anchor" href="#_3-5-regexp-match-indices"><span>3.5 RegExp match indices</span></a></h2><p>However, there are several more advanced scenarios where this information may not necessarily be sufficient. For example, an ECMAScript implementation of TextMate Language syntax highlighting needs more than just the <code>index</code> of the <em>match</em>, but also the start and end indices for individual capture groups.</p>`,19)),n("p",null,[n("a",q,[s[22]||(s[22]=a("原文")),e(t)])]),s[39]||(s[39]=p(`<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token comment">// 至少一个 a 以及 0 个或者 1 个 z ，其中包含一个命名为 Z 的捕获组</span></span>
<span class="line"><span class="token keyword">const</span> re1 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">a+(?&lt;Z&gt;z)?</span><span class="token regex-delimiter">/</span><span class="token regex-flags">d</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// indices are relative to start of the input string:</span></span>
<span class="line"><span class="token keyword">const</span> s1 <span class="token operator">=</span> <span class="token string">&quot;xaaaz&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> m1 <span class="token operator">=</span> re1<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">m1<span class="token punctuation">.</span>indices<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">;</span></span>
<span class="line">m1<span class="token punctuation">.</span>indices<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token number">5</span><span class="token punctuation">;</span></span>
<span class="line">s1<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">...</span>m1<span class="token punctuation">.</span>indices<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;aaaz&quot;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">m1<span class="token punctuation">.</span>indices<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token number">4</span><span class="token punctuation">;</span></span>
<span class="line">m1<span class="token punctuation">.</span>indices<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token number">5</span><span class="token punctuation">;</span></span>
<span class="line">s1<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">...</span>m1<span class="token punctuation">.</span>indices<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;z&quot;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">m1<span class="token punctuation">.</span>indices<span class="token punctuation">.</span>groups<span class="token punctuation">[</span><span class="token string">&quot;Z&quot;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token number">4</span><span class="token punctuation">;</span></span>
<span class="line">m1<span class="token punctuation">.</span>indices<span class="token punctuation">.</span>groups<span class="token punctuation">[</span><span class="token string">&quot;Z&quot;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token number">5</span><span class="token punctuation">;</span></span>
<span class="line">s1<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">...</span>m1<span class="token punctuation">.</span>indices<span class="token punctuation">.</span>groups<span class="token punctuation">[</span><span class="token string">&quot;Z&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;z&quot;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// capture groups that are not matched return \`undefined\`:</span></span>
<span class="line"><span class="token keyword">const</span> m2 <span class="token operator">=</span> re1<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">&quot;xaaay&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">m2<span class="token punctuation">.</span>indices<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span></span>
<span class="line">m2<span class="token punctuation">.</span>indices<span class="token punctuation">.</span>groups<span class="token punctuation">[</span><span class="token string">&quot;Z&quot;</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// e.g </span></span>
<span class="line"><span class="token keyword">const</span> matchObj <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(a+)(b+)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">&#39;aaaabb&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> matchObj <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(a+)(b+)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">d</span></span><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string">&#39;aaaabb&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-6-class-field-declarations" tabindex="-1"><a class="header-anchor" href="#_3-6-class-field-declarations"><span>3.6 Class field declarations</span></a></h2><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line"><span class="token keyword">class</span> <span class="token class-name">SampleClass</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">/*</span>
<span class="line">      instead of:</span>
<span class="line">      constructor() { this.publicID = 42; }</span>
<span class="line">    */</span></span>
<span class="line">    publicID <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span> <span class="token comment">// public field</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">/*</span>
<span class="line">      instead of:</span>
<span class="line">      static get staticPublicField() { return -1 }</span>
<span class="line">    */</span></span>
<span class="line">    <span class="token keyword">static</span> staticPublicField <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// static private field</span></span>
<span class="line">    <span class="token keyword">static</span> #staticPrivateField <span class="token operator">=</span> <span class="token string">&#39;private&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">//private methods</span></span>
<span class="line">    <span class="token function">#privateMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// static block</span></span>
<span class="line">    <span class="token keyword">static</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token comment">// executed when the class is created</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>参考资料：</p><ol><li>https://h3manth.com/ES2022/#ergonomic-brand-checks-for-private-fields</li><li>https://www.honeybadger.io/blog/import-maps/</li><li>https://2ality.com/2022/06/ecmascript-2022.html</li><li>https://exploringjs.com/impatient-js/ch_new-javascript-features.html</li><li>https://juejin.cn/post/6966631751951056903</li><li>https://juejin.cn/post/7116106112620822564</li><li>https://juejin.cn/post/7073285958791069704</li><li>https://tc39.es/zh-Hans/</li><li>https://github.com/i5ting/giac-2022-big-frontend</li></ol>`,5))])}const E=o(r,[["render",S],["__file","1.html.vue"]]),O=JSON.parse('{"path":"/blogs/js/1.html","title":"TC39 Proposals","lang":"en-US","frontmatter":{"title":"TC39 Proposals","date":"2022/05/30","tags":["Javascript"],"categories":["js"]},"headers":[{"level":2,"title":"2.1 stage 4","slug":"_2-1-stage-4","link":"#_2-1-stage-4","children":[]},{"level":2,"title":"2.2 stage 3","slug":"_2-2-stage-3","link":"#_2-2-stage-3","children":[{"level":3,"title":"2.2.1 JSON Modules","slug":"_2-2-1-json-modules","link":"#_2-2-1-json-modules","children":[]},{"level":3,"title":"2.2.2 Temporal","slug":"_2-2-2-temporal","link":"#_2-2-2-temporal","children":[]},{"level":3,"title":"2.2.3 Import Assertions","slug":"_2-2-3-import-assertions","link":"#_2-2-3-import-assertions","children":[]}]},{"level":2,"title":"2.3 stage 2 、stage1、stage0","slug":"_2-3-stage-2-、stage1、stage0","link":"#_2-3-stage-2-、stage1、stage0","children":[{"level":3,"title":"2.3.1 Pipe Operator (|>) for JavaScript","slug":"_2-3-1-pipe-operator-for-javascript","link":"#_2-3-1-pipe-operator-for-javascript","children":[]}]},{"level":2,"title":"3.1 .at()","slug":"_3-1-at","link":"#_3-1-at","children":[]},{"level":2,"title":"3.2 Top level await","slug":"_3-2-top-level-await","link":"#_3-2-top-level-await","children":[]},{"level":2,"title":"3.3 Error cause","slug":"_3-3-error-cause","link":"#_3-3-error-cause","children":[]},{"level":2,"title":"3.4 Object.hasOwn","slug":"_3-4-object-hasown","link":"#_3-4-object-hasown","children":[]},{"level":2,"title":"3.5 RegExp match indices","slug":"_3-5-regexp-match-indices","link":"#_3-5-regexp-match-indices","children":[]},{"level":2,"title":"3.6 Class field declarations","slug":"_3-6-class-field-declarations","link":"#_3-6-class-field-declarations","children":[]}],"git":{"createdTime":1698896250000,"updatedTime":1700045822000,"contributors":[{"name":"liqiu03","email":"liqiu03@baidu.com","commits":1}]},"filePathRelative":"blogs/js/1.md"}');export{E as comp,O as data};
